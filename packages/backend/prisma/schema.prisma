generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  uwoId     String @id
  email     String @unique
  password  String
  firstName String
  lastName  String
  role      Role
  InstructorCourse InstructorCourse[]
}

model Department {
  departmentUuid  String    @id @default(uuid())
  departmentName  String    @unique
  courses Course[]
}

model Course {
  courseUuid    String      @id @default(uuid())
  courseCode    String      
  semester      Term        
  year          Int    
  courseName    String      @unique
  department Department     @relation(fields: [departmentUuid], references: [departmentUuid])
  departmentUuid String
  InstructorCourse InstructorCourse[]
}

model InstructorCourse {
  user    User  @relation(fields: [uwoId], references: [uwoId])
  uwoId   String
  course  Course  @relation(fields: [courseUuid], references: [courseUuid])
  courseUuid  String 
  @@id([uwoId, courseUuid])
}

enum Term {
  FALL
  WINTER
  SUMMER
}

enum Role {
  ADMINISTRATOR
  INSTRUCTOR
  DEPARTMENT_CHAIR
  ASSOCIATE_CHAIR
  PROGRAM_DIRECTOR
}
